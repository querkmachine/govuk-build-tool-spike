(()=>{var Q=(A,p)=>()=>(p||A((p={exports:{}}).exports,p),p.exports);var Z=Q((P,V)=>{(function(A,p){typeof P=="object"&&typeof V<"u"?p(P):typeof define=="function"&&define.amd?define("GOVUKFrontend",["exports"],p):p(A.GOVUKFrontend={})})(P,function(A){"use strict";function p(t,n){if(window.NodeList.prototype.forEach)return t.forEach(n);for(var e=0;e<t.length;e++)n.call(window,t[e],e,t)}function W(){var t=new Date().getTime();return typeof window.performance<"u"&&typeof window.performance.now=="function"&&(t+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n==="x"?e:e&3|8).toString(16)})}(function(t){var n="defineProperty"in Object&&function(){try{var e={};return Object.defineProperty(e,"test",{value:42}),!0}catch{return!1}}();n||function(e){var i=Object.prototype.hasOwnProperty("__defineGetter__"),a="Getters & setters cannot be defined on this javascript engine",l="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function(o,u,r){if(e&&(o===window||o===document||o===Element.prototype||o instanceof Element))return e(o,u,r);if(o===null||!(o instanceof Object||typeof o=="object"))throw new TypeError("Object.defineProperty called on non-object");if(!(r instanceof Object))throw new TypeError("Property description must be an object");var c=String(u),v="value"in r||"writable"in r,m="get"in r&&typeof r.get,d="set"in r&&typeof r.set;if(m){if(m!=="function")throw new TypeError("Getter must be a function");if(!i)throw new TypeError(a);if(v)throw new TypeError(l);Object.__defineGetter__.call(o,c,r.get)}else o[c]=r.value;if(d){if(d!=="function")throw new TypeError("Setter must be a function");if(!i)throw new TypeError(a);if(v)throw new TypeError(l);Object.__defineSetter__.call(o,c,r.set)}return"value"in r&&(o[c]=r.value),o}}(Object.defineProperty)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n="bind"in Function.prototype;n||Object.defineProperty(Function.prototype,"bind",{value:function(i){var a=Array,l=Object,s=l.prototype,o=a.prototype,u=function(){},r=s.toString,c=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",v,m=Function.prototype.toString,d=function(B){try{return m.call(B),!0}catch{return!1}},f="[object Function]",E="[object GeneratorFunction]";v=function(B){if(typeof B!="function")return!1;if(c)return d(B);var F=r.call(B);return F===f||F===E};var y=o.slice,h=o.concat,b=o.push,g=Math.max,k=this;if(!v(k))throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var N=y.call(arguments,1),M,z=function(){if(this instanceof M){var H=k.apply(this,h.call(N,y.call(arguments)));return l(H)===H?H:this}else return k.apply(i,h.call(N,y.call(arguments)))},J=g(0,k.length-N.length),R=[],q=0;q<J;q++)b.call(R,"$"+q);return M=Function("binder","return function ("+R.join(",")+"){ return binder.apply(this, arguments); }")(z),k.prototype&&(u.prototype=k.prototype,M.prototype=new u,u.prototype=null),M}})}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n="DOMTokenList"in this&&function(e){return"classList"in e?!e.classList.toggle("x",!1)&&!e.className:!0}(document.createElement("x"));n||function(e){var i="DOMTokenList"in e&&e.DOMTokenList;(!i||!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg")&&!(document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList))&&(e.DOMTokenList=function(){var a=!0,l=function(o,u,r,c){Object.defineProperty?Object.defineProperty(o,u,{configurable:a===!1?!0:!!c,get:r}):o.__defineGetter__(u,r)};try{l({},"support")}catch{a=!1}var s=function(o,u){var r=this,c=[],v={},m=0,d=0,f=function(h){l(r,h,function(){return y(),c[h]},!1)},E=function(){if(m>=d)for(;d<m;++d)f(d)},y=function(){var h,b,g=arguments,k=/\s+/;if(g.length){for(b=0;b<g.length;++b)if(k.test(g[b]))throw h=new SyntaxError('String "'+g[b]+'" contains an invalid character'),h.code=5,h.name="InvalidCharacterError",h}for(typeof o[u]=="object"?c=(""+o[u].baseVal).replace(/^\s+|\s+$/g,"").split(k):c=(""+o[u]).replace(/^\s+|\s+$/g,"").split(k),c[0]===""&&(c=[]),v={},b=0;b<c.length;++b)v[c[b]]=!0;m=c.length,E()};return y(),l(r,"length",function(){return y(),m}),r.toLocaleString=r.toString=function(){return y(),c.join(" ")},r.item=function(h){return y(),c[h]},r.contains=function(h){return y(),!!v[h]},r.add=function(){y.apply(r,h=arguments);for(var h,b,g=0,k=h.length;g<k;++g)b=h[g],v[b]||(c.push(b),v[b]=!0);m!==c.length&&(m=c.length>>>0,typeof o[u]=="object"?o[u].baseVal=c.join(" "):o[u]=c.join(" "),E())},r.remove=function(){y.apply(r,h=arguments);for(var h,b={},g=0,k=[];g<h.length;++g)b[h[g]]=!0,delete v[h[g]];for(g=0;g<c.length;++g)b[c[g]]||k.push(c[g]);c=k,m=k.length>>>0,typeof o[u]=="object"?o[u].baseVal=c.join(" "):o[u]=c.join(" "),E()},r.toggle=function(h,b){return y.apply(r,[h]),t!==b?b?(r.add(h),!0):(r.remove(h),!1):v[h]?(r.remove(h),!1):(r.add(h),!0)},r};return s}()),function(){var a=document.createElement("span");"classList"in a&&(a.classList.toggle("x",!1),a.classList.contains("x")&&(a.classList.constructor.prototype.toggle=function(s){var o=arguments[1];if(o===t){var u=!this.contains(s);return this[u?"add":"remove"](s),u}return o=!!o,this[o?"add":"remove"](s),o}))}(),function(){var a=document.createElement("span");if("classList"in a&&(a.classList.add("a","b"),!a.classList.contains("b"))){var l=a.classList.constructor.prototype.add;a.classList.constructor.prototype.add=function(){for(var s=arguments,o=arguments.length,u=0;u<o;u++)l.call(this,s[u])}}}(),function(){var a=document.createElement("span");if("classList"in a&&(a.classList.add("a"),a.classList.add("b"),a.classList.remove("a","b"),!!a.classList.contains("b"))){var l=a.classList.constructor.prototype.remove;a.classList.constructor.prototype.remove=function(){for(var s=arguments,o=arguments.length,u=0;u<o;u++)l.call(this,s[u])}}}()}(this)}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n="Document"in this;n||typeof WorkerGlobalScope>"u"&&typeof importScripts!="function"&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n="Element"in this&&"HTMLElement"in this;n||function(){if(window.Element&&!window.HTMLElement){window.HTMLElement=window.Element;return}window.Element=window.HTMLElement=new Function("return function Element() {}")();var e=document.appendChild(document.createElement("body")),i=e.appendChild(document.createElement("iframe")),a=i.contentWindow.document,l=Element.prototype=a.appendChild(a.createElement("*")),s={},o=function(d,f){var E=d.childNodes||[],y=-1,h,b,g;if(d.nodeType===1&&d.constructor!==Element){d.constructor=Element;for(h in s)b=s[h],d[h]=b}for(;g=f&&E[++y];)o(g,f);return d},u=document.getElementsByTagName("*"),r=document.createElement,c,v=100;l.attachEvent("onpropertychange",function(d){for(var f=d.propertyName,E=!s.hasOwnProperty(f),y=l[f],h=s[f],b=-1,g;g=u[++b];)g.nodeType===1&&(E||g[f]===h)&&(g[f]=y);s[f]=y}),l.constructor=Element,l.hasAttribute||(l.hasAttribute=function(f){return this.getAttribute(f)!==null});function m(){return v--||clearTimeout(c),document.body&&!document.body.prototype&&/(complete|interactive)/.test(document.readyState)?(o(document,!0),c&&document.body.prototype&&clearTimeout(c),!!document.body.prototype):!1}m()||(document.onreadystatechange=m,c=setInterval(m,25)),document.createElement=function(f){var E=r(String(f).toLowerCase());return o(E)},document.removeChild(e)}()}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n="document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&function(){var e=document.createElement("span");return e.classList.add("a","b"),e.classList.contains("b")}();n||function(e){var i=!0,a=function(s,o,u,r){Object.defineProperty?Object.defineProperty(s,o,{configurable:i===!1?!0:!!r,get:u}):s.__defineGetter__(o,u)};try{a({},"support")}catch{i=!1}var l=function(s,o,u){a(s.prototype,o,function(){var r,c=this,v="__defineGetter__DEFINE_PROPERTY"+o;if(c[v])return r;if(c[v]=!0,i===!1){for(var m,d=l.mirror||document.createElement("div"),f=d.childNodes,E=f.length,y=0;y<E;++y)if(f[y]._R===c){m=f[y];break}m||(m=d.appendChild(document.createElement("div"))),r=DOMTokenList.call(m,c,u)}else r=new DOMTokenList(c,u);return a(c,o,function(){return r}),delete c[v],r},!0)};l(e.Element,"classList","className"),l(e.HTMLElement,"classList","className"),l(e.HTMLLinkElement,"relList","rel"),l(e.HTMLAnchorElement,"relList","rel"),l(e.HTMLAreaElement,"relList","rel")}(this)}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});function C(t){this.$module=t,this.moduleId=t.getAttribute("id"),this.$sections=t.querySelectorAll(".govuk-accordion__section"),this.$showAllButton="",this.browserSupportsSessionStorage=G.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus"}C.prototype.init=function(){if(!!this.$module){this.initControls(),this.initSectionHeaders();var t=this.checkIfAllSectionsOpen();this.updateShowAllButton(t)}},C.prototype.initControls=function(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false");var t=document.createElement("span");t.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(t);var n=document.createElement("div");n.setAttribute("class",this.controlsClass),n.appendChild(this.$showAllButton),this.$module.insertBefore(n,this.$module.firstChild);var e=document.createElement("span");e.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(e),this.$showAllButton.addEventListener("click",this.onShowOrHideAllToggle.bind(this))},C.prototype.initSectionHeaders=function(){p(this.$sections,function(t,n){var e=t.querySelector("."+this.sectionHeaderClass);this.constructHeaderMarkup(e,n),this.setExpanded(this.isExpanded(t),t),e.addEventListener("click",this.onSectionToggle.bind(this,t)),this.setInitialState(t)}.bind(this))},C.prototype.constructHeaderMarkup=function(t,n){var e=t.querySelector("."+this.sectionButtonClass),i=t.querySelector("."+this.sectionHeadingClass),a=t.querySelector("."+this.sectionSummaryClass),l=document.createElement("button");l.setAttribute("type","button"),l.setAttribute("aria-controls",this.moduleId+"-content-"+(n+1));for(var s=0;s<e.attributes.length;s++){var o=e.attributes.item(s);o.nodeName!=="id"&&l.setAttribute(o.nodeName,o.nodeValue)}var u=document.createElement("span");u.classList.add(this.sectionHeadingTextClass),u.id=e.id;var r=document.createElement("span");r.classList.add(this.sectionHeadingTextFocusClass),u.appendChild(r),r.innerHTML=e.innerHTML;var c=document.createElement("span");c.classList.add(this.sectionShowHideToggleClass),c.setAttribute("data-nosnippet","");var v=document.createElement("span");v.classList.add(this.sectionShowHideToggleFocusClass),c.appendChild(v);var m=document.createElement("span"),d=document.createElement("span");if(d.classList.add(this.upChevronIconClass),v.appendChild(d),m.classList.add(this.sectionShowHideTextClass),v.appendChild(m),l.appendChild(u),l.appendChild(this.getButtonPunctuationEl()),typeof a<"u"&&a!==null){var f=document.createElement("span"),E=document.createElement("span");E.classList.add(this.sectionSummaryFocusClass),f.appendChild(E);for(var y=0,h=a.attributes.length;y<h;++y){var b=a.attributes.item(y).nodeName,g=a.attributes.item(y).nodeValue;f.setAttribute(b,g)}E.innerHTML=a.innerHTML,a.parentNode.replaceChild(f,a),l.appendChild(f),l.appendChild(this.getButtonPunctuationEl())}l.appendChild(c),i.removeChild(e),i.appendChild(l)},C.prototype.onSectionToggle=function(t){var n=this.isExpanded(t);this.setExpanded(!n,t),this.storeState(t)},C.prototype.onShowOrHideAllToggle=function(){var t=this,n=this.$sections,e=!this.checkIfAllSectionsOpen();p(n,function(i){t.setExpanded(e,i),t.storeState(i)}),t.updateShowAllButton(e)},C.prototype.setExpanded=function(t,n){var e=n.querySelector("."+this.upChevronIconClass),i=n.querySelector("."+this.sectionShowHideTextClass),a=n.querySelector("."+this.sectionButtonClass),l=t?"Hide":"Show",s=document.createElement("span");s.classList.add("govuk-visually-hidden"),s.innerHTML=" this section",i.innerHTML=l,i.appendChild(s),a.setAttribute("aria-expanded",t),t?(n.classList.add(this.sectionExpandedClass),e.classList.remove(this.downChevronIconClass)):(n.classList.remove(this.sectionExpandedClass),e.classList.add(this.downChevronIconClass));var o=this.checkIfAllSectionsOpen();this.updateShowAllButton(o)},C.prototype.isExpanded=function(t){return t.classList.contains(this.sectionExpandedClass)},C.prototype.checkIfAllSectionsOpen=function(){var t=this.$sections.length,n=this.$module.querySelectorAll("."+this.sectionExpandedClass).length,e=t===n;return e},C.prototype.updateShowAllButton=function(t){var n=this.$showAllButton.querySelector("."+this.upChevronIconClass),e=this.$showAllButton.querySelector("."+this.showAllTextClass),i=t?"Hide all sections":"Show all sections";this.$showAllButton.setAttribute("aria-expanded",t),e.innerHTML=i,t?n.classList.remove(this.downChevronIconClass):n.classList.add(this.downChevronIconClass)};var G={checkForSessionStorage:function(){var t="this is the test string",n;try{return window.sessionStorage.setItem(t,t),n=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),n}catch{(typeof console>"u"||typeof console.log>"u")&&console.log("Notice: sessionStorage not available.")}}};C.prototype.storeState=function(t){if(this.browserSupportsSessionStorage){var n=t.querySelector("."+this.sectionButtonClass);if(n){var e=n.getAttribute("aria-controls"),i=n.getAttribute("aria-expanded");typeof e>"u"&&(typeof console>"u"||typeof console.log>"u")&&console.error(new Error("No aria controls present in accordion section heading.")),typeof i>"u"&&(typeof console>"u"||typeof console.log>"u")&&console.error(new Error("No aria expanded present in accordion section heading.")),e&&i&&window.sessionStorage.setItem(e,i)}}},C.prototype.setInitialState=function(t){if(this.browserSupportsSessionStorage){var n=t.querySelector("."+this.sectionButtonClass);if(n){var e=n.getAttribute("aria-controls"),i=e?window.sessionStorage.getItem(e):null;i!==null&&this.setExpanded(i==="true",t)}}},C.prototype.getButtonPunctuationEl=function(){var t=document.createElement("span");return t.classList.add("govuk-visually-hidden","govuk-accordion__section-heading-divider"),t.innerHTML=", ",t},function(t){var n="Window"in this;n||typeof WorkerGlobalScope>"u"&&typeof importScripts!="function"&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n=function(e){if(!("Event"in e))return!1;if(typeof e.Event=="function")return!0;try{return new Event("click"),!0}catch{return!1}}(this);n||function(){var e={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if(typeof document>"u"||typeof window>"u")return;function i(l,s){for(var o=-1,u=l.length;++o<u;)if(o in l&&l[o]===s)return o;return-1}var a=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(s,o){if(!s)throw new Error("Not enough arguments");var u;if("createEvent"in document){u=document.createEvent("Event");var r=o&&o.bubbles!==t?o.bubbles:!1,c=o&&o.cancelable!==t?o.cancelable:!1;return u.initEvent(s,r,c),u}return u=document.createEventObject(),u.type=s,u.bubbles=o&&o.bubbles!==t?o.bubbles:!1,u.cancelable=o&&o.cancelable!==t?o.cancelable:!1,u},a&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:a}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var s=this,o=arguments[0],u=arguments[1];if(s===window&&o in e)throw new Error("In IE8 the event: "+o+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");s._events||(s._events={}),s._events[o]||(s._events[o]=function(r){var c=s._events[r.type].list,v=c.slice(),m=-1,d=v.length,f;for(r.preventDefault=function(){r.cancelable!==!1&&(r.returnValue=!1)},r.stopPropagation=function(){r.cancelBubble=!0},r.stopImmediatePropagation=function(){r.cancelBubble=!0,r.cancelImmediate=!0},r.currentTarget=s,r.relatedTarget=r.fromElement||null,r.target=r.target||r.srcElement||s,r.timeStamp=new Date().getTime(),r.clientX&&(r.pageX=r.clientX+document.documentElement.scrollLeft,r.pageY=r.clientY+document.documentElement.scrollTop);++m<d&&!r.cancelImmediate;)m in v&&(f=v[m],i(c,f)!==-1&&typeof f=="function"&&f.call(s,r))},s._events[o].list=[],s.attachEvent&&s.attachEvent("on"+o,s._events[o])),s._events[o].list.push(u)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var s=this,o=arguments[0],u=arguments[1],r;s._events&&s._events[o]&&s._events[o].list&&(r=i(s._events[o].list,u),r!==-1&&(s._events[o].list.splice(r,1),s._events[o].list.length||(s.detachEvent&&s.detachEvent("on"+o,s._events[o]),delete s._events[o])))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(s){if(!arguments.length)throw new Error("Not enough arguments");if(!s||typeof s.type!="string")throw new Error("DOM Events Exception 0");var o=this,u=s.type;try{if(!s.bubbles){s.cancelBubble=!0;var r=function(c){c.cancelBubble=!0,(o||window).detachEvent("on"+u,r)};this.attachEvent("on"+u,r)}this.fireEvent("on"+u,s)}catch{s.target=o;do s.currentTarget=o,"_events"in o&&typeof o._events[u]=="function"&&o._events[u].call(o,s),typeof o["on"+u]=="function"&&o["on"+u].call(o,s),o=o.nodeType===9?o.parentWindow:o.parentNode;while(o&&!s.cancelBubble)}return!0},document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}()}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});var K=32,U=1;function O(t){this.$module=t,this.debounceFormSubmitTimer=null}O.prototype.handleKeyDown=function(t){var n=t.target;n.getAttribute("role")==="button"&&t.keyCode===K&&(t.preventDefault(),n.click())},O.prototype.debounce=function(t){var n=t.target;if(n.getAttribute("data-prevent-double-click")==="true"){if(this.debounceFormSubmitTimer)return t.preventDefault(),!1;this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),U*1e3)}},O.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};var Y=13,D=32;function _(t){this.$module=t}_.prototype.init=function(){if(!!this.$module){var t=typeof this.$module.open=="boolean";t||this.polyfillDetails()}},_.prototype.polyfillDetails=function(){var t=this.$module,n=this.$summary=t.getElementsByTagName("summary").item(0),e=this.$content=t.getElementsByTagName("div").item(0);if(!(!n||!e)){e.id||(e.id="details-content-"+W()),t.setAttribute("role","group"),n.setAttribute("role","button"),n.setAttribute("aria-controls",e.id),n.tabIndex=0;var i=t.getAttribute("open")!==null;i===!0?(n.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false")):(n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),e.style.display="none"),this.polyfillHandleInputs(n,this.polyfillSetAttributes.bind(this))}},_.prototype.polyfillSetAttributes=function(){var t=this.$module,n=this.$summary,e=this.$content,i=n.getAttribute("aria-expanded")==="true",a=e.getAttribute("aria-hidden")==="true";n.setAttribute("aria-expanded",i?"false":"true"),e.setAttribute("aria-hidden",a?"false":"true"),e.style.display=i?"none":"";var l=t.getAttribute("open")!==null;return l?t.removeAttribute("open"):t.setAttribute("open","open"),!0},_.prototype.polyfillHandleInputs=function(t,n){t.addEventListener("keypress",function(e){var i=e.target;(e.keyCode===Y||e.keyCode===D)&&i.nodeName.toLowerCase()==="summary"&&(e.preventDefault(),i.click?i.click():n(e))}),t.addEventListener("keyup",function(e){var i=e.target;e.keyCode===D&&i.nodeName.toLowerCase()==="summary"&&e.preventDefault()}),t.addEventListener("click",n)};function L(t){this.$module=t,this.$textarea=t.querySelector(".govuk-js-character-count"),this.$textarea&&(this.$countMessage=document.getElementById(this.$textarea.id+"-info"))}L.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},L.prototype.init=function(){var t=this.$module,n=this.$textarea,e=this.$countMessage;if(!(!n||!e)){n.insertAdjacentElement("afterend",e),this.options=this.getDataset(t);var i=this.defaults.characterCountAttribute;this.options.maxwords&&(i=this.defaults.wordCountAttribute),this.maxLength=t.getAttribute(i),this.maxLength&&(t.removeAttribute("maxlength"),"onpageshow"in window?window.addEventListener("pageshow",this.sync.bind(this)):window.addEventListener("DOMContentLoaded",this.sync.bind(this)),this.sync())}},L.prototype.sync=function(){this.bindChangeEvents(),this.updateCountMessage()},L.prototype.getDataset=function(t){var n={},e=t.attributes;if(e)for(var i=0;i<e.length;i++){var a=e[i],l=a.name.match(/^data-(.+)/);l&&(n[l[1]]=a.value)}return n},L.prototype.count=function(t){var n;if(this.options.maxwords){var e=t.match(/\S+/g)||[];n=e.length}else n=t.length;return n},L.prototype.bindChangeEvents=function(){var t=this.$textarea;t.addEventListener("keyup",this.checkIfValueChanged.bind(this)),t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("blur",this.handleBlur.bind(this))},L.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage())},L.prototype.updateCountMessage=function(){var t=this.$textarea,n=this.options,e=this.$countMessage,i=this.count(t.value),a=this.maxLength,l=a-i,s=n.threshold?n.threshold:0,o=a*s/100;o>i?(e.classList.add("govuk-character-count__message--disabled"),e.setAttribute("aria-hidden",!0)):(e.classList.remove("govuk-character-count__message--disabled"),e.removeAttribute("aria-hidden")),l<0?(t.classList.add("govuk-textarea--error"),e.classList.remove("govuk-hint"),e.classList.add("govuk-error-message")):(t.classList.remove("govuk-textarea--error"),e.classList.remove("govuk-error-message"),e.classList.add("govuk-hint"));var u="remaining",r="character",c=l;n.maxwords&&(r="word"),r=r+(l===-1||l===1?"":"s"),u=l<0?"too many":"remaining",c=Math.abs(l),e.innerHTML="You have "+c+" "+r+" "+u},L.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},L.prototype.handleBlur=function(){clearInterval(this.valueChecker)};function S(t){this.$module=t,this.$inputs=t.querySelectorAll('input[type="checkbox"]')}S.prototype.init=function(){var t=this.$module,n=this.$inputs;p(n,function(e){var i=e.getAttribute("data-aria-controls");!i||!document.getElementById(i)||(e.setAttribute("aria-controls",i),e.removeAttribute("data-aria-controls"))}),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))},S.prototype.syncAllConditionalReveals=function(){p(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},S.prototype.syncConditionalRevealWithInputState=function(t){var n=document.getElementById(t.getAttribute("aria-controls"));if(n&&n.classList.contains("govuk-checkboxes__conditional")){var e=t.checked;t.setAttribute("aria-expanded",e),n.classList.toggle("govuk-checkboxes__conditional--hidden",!e)}},S.prototype.unCheckAllInputsExcept=function(t){var n=document.querySelectorAll('input[type="checkbox"][name="'+t.name+'"]');p(n,function(e){var i=t.form===e.form;i&&e!==t&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}.bind(this))},S.prototype.unCheckExclusiveInputs=function(t){var n=document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+t.name+'"]');p(n,function(e){var i=t.form===e.form;i&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}.bind(this))},S.prototype.handleClick=function(t){var n=t.target;if(n.type==="checkbox"){var e=n.getAttribute("aria-controls");if(e&&this.syncConditionalRevealWithInputState(n),!!n.checked){var i=n.getAttribute("data-behaviour")==="exclusive";i?this.unCheckAllInputsExcept(n):this.unCheckExclusiveInputs(n)}}},function(t){var n="document"in this&&"matches"in document.documentElement;n||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(i){for(var a=this,l=(a.document||a.ownerDocument).querySelectorAll(i),s=0;l[s]&&l[s]!==a;)++s;return!!l[s]})}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n="document"in this&&"closest"in document.documentElement;n||(Element.prototype.closest=function(i){for(var a=this;a;){if(a.matches(i))return a;a="SVGElement"in window&&a instanceof SVGElement?a.parentNode:a.parentElement}return null})}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});function x(t){this.$module=t}x.prototype.init=function(){var t=this.$module;!t||(this.setFocus(),t.addEventListener("click",this.handleClick.bind(this)))},x.prototype.setFocus=function(){var t=this.$module;t.getAttribute("data-disable-auto-focus")!=="true"&&(t.setAttribute("tabindex","-1"),t.addEventListener("blur",function(){t.removeAttribute("tabindex")}),t.focus())},x.prototype.handleClick=function(t){var n=t.target;this.focusTarget(n)&&t.preventDefault()},x.prototype.focusTarget=function(t){if(t.tagName!=="A"||t.href===!1)return!1;var n=this.getFragmentFromUrl(t.href),e=document.getElementById(n);if(!e)return!1;var i=this.getAssociatedLegendOrLabel(e);return i?(i.scrollIntoView(),e.focus({preventScroll:!0}),!0):!1},x.prototype.getFragmentFromUrl=function(t){return t.indexOf("#")===-1?!1:t.split("#").pop()},x.prototype.getAssociatedLegendOrLabel=function(t){var n=t.closest("fieldset");if(n){var e=n.getElementsByTagName("legend");if(e.length){var i=e[0];if(t.type==="checkbox"||t.type==="radio")return i;var a=i.getBoundingClientRect().top,l=t.getBoundingClientRect();if(l.height&&window.innerHeight){var s=l.top+l.height;if(s-a<window.innerHeight/2)return i}}}return document.querySelector("label[for='"+t.getAttribute("id")+"']")||t.closest("label")};function I(t){this.$module=t}I.prototype.init=function(){var t=this.$module;!t||this.setFocus()},I.prototype.setFocus=function(){var t=this.$module;t.getAttribute("data-disable-auto-focus")!=="true"&&t.getAttribute("role")==="alert"&&(t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.addEventListener("blur",function(){t.removeAttribute("tabindex")})),t.focus())};function j(t){this.$module=t,this.$menuButton=t&&t.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&t.querySelector("#"+this.$menuButton.getAttribute("aria-controls"))}j.prototype.init=function(){!this.$module||!this.$menuButton||!this.$menu||(this.syncState(this.$menu.classList.contains("govuk-header__navigation-list--open")),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this)))},j.prototype.syncState=function(t){this.$menuButton.classList.toggle("govuk-header__menu-button--open",t),this.$menuButton.setAttribute("aria-expanded",t)},j.prototype.handleMenuButtonClick=function(){var t=this.$menu.classList.toggle("govuk-header__navigation-list--open");this.syncState(t)};function $(t){this.$module=t,this.$inputs=t.querySelectorAll('input[type="radio"]')}$.prototype.init=function(){var t=this.$module,n=this.$inputs;p(n,function(e){var i=e.getAttribute("data-aria-controls");!i||!document.getElementById(i)||(e.setAttribute("aria-controls",i),e.removeAttribute("data-aria-controls"))}),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))},$.prototype.syncAllConditionalReveals=function(){p(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},$.prototype.syncConditionalRevealWithInputState=function(t){var n=document.getElementById(t.getAttribute("aria-controls"));if(n&&n.classList.contains("govuk-radios__conditional")){var e=t.checked;t.setAttribute("aria-expanded",e),n.classList.toggle("govuk-radios__conditional--hidden",!e)}},$.prototype.handleClick=function(t){var n=t.target;if(n.type==="radio"){var e=document.querySelectorAll('input[type="radio"][aria-controls]');p(e,function(i){var a=i.form===n.form,l=i.name===n.name;l&&a&&this.syncConditionalRevealWithInputState(i)}.bind(this))}};function T(t){this.$module=t,this.$linkedElement=null,this.linkedElementListener=!1}T.prototype.init=function(){!this.$module||(this.$linkedElement=this.getLinkedElement(),this.$linkedElement&&this.$module.addEventListener("click",this.focusLinkedElement.bind(this)))},T.prototype.getLinkedElement=function(){var t=this.getFragmentFromUrl();return t?document.getElementById(t):!1},T.prototype.focusLinkedElement=function(){var t=this.$linkedElement;t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.classList.add("govuk-skip-link-focused-element"),this.linkedElementListener||(this.$linkedElement.addEventListener("blur",this.removeFocusProperties.bind(this)),this.linkedElementListener=!0)),t.focus()},T.prototype.removeFocusProperties=function(){this.$linkedElement.removeAttribute("tabindex"),this.$linkedElement.classList.remove("govuk-skip-link-focused-element")},T.prototype.getFragmentFromUrl=function(){return this.$module.hash?this.$module.hash.split("#").pop():!1},function(t){var n="document"in this&&"nextElementSibling"in document.documentElement;n||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e&&e.nodeType!==1;)e=e.nextSibling;return e}})}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),function(t){var n="document"in this&&"previousElementSibling"in document.documentElement;n||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var e=this.previousSibling;e&&e.nodeType!==1;)e=e.previousSibling;return e}})}.call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{});function w(t){this.$module=t,this.$tabs=t.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}w.prototype.init=function(){typeof window.matchMedia=="function"?this.setupResponsiveChecks():this.setup()},w.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},w.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},w.prototype.setup=function(){var t=this.$module,n=this.$tabs,e=t.querySelector(".govuk-tabs__list"),i=t.querySelectorAll(".govuk-tabs__list-item");if(!(!n||!e||!i)){e.setAttribute("role","tablist"),p(i,function(l){l.setAttribute("role","presentation")}),p(n,function(l){this.setAttributes(l),l.boundTabClick=this.onTabClick.bind(this),l.boundTabKeydown=this.onTabKeydown.bind(this),l.addEventListener("click",l.boundTabClick,!0),l.addEventListener("keydown",l.boundTabKeydown,!0),this.hideTab(l)}.bind(this));var a=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(a),t.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",t.boundOnHashChange,!0)}},w.prototype.teardown=function(){var t=this.$module,n=this.$tabs,e=t.querySelector(".govuk-tabs__list"),i=t.querySelectorAll(".govuk-tabs__list-item");!n||!e||!i||(e.removeAttribute("role"),p(i,function(a){a.removeAttribute("role","presentation")}),p(n,function(a){a.removeEventListener("click",a.boundTabClick,!0),a.removeEventListener("keydown",a.boundTabKeydown,!0),this.unsetAttributes(a)}.bind(this)),window.removeEventListener("hashchange",t.boundOnHashChange,!0))},w.prototype.onHashChange=function(t){var n=window.location.hash,e=this.getTab(n);if(!!e){if(this.changingHash){this.changingHash=!1;return}var i=this.getCurrentTab();this.hideTab(i),this.showTab(e),e.focus()}},w.prototype.hideTab=function(t){this.unhighlightTab(t),this.hidePanel(t)},w.prototype.showTab=function(t){this.highlightTab(t),this.showPanel(t)},w.prototype.getTab=function(t){return this.$module.querySelector('.govuk-tabs__tab[href="'+t+'"]')},w.prototype.setAttributes=function(t){var n=this.getHref(t).slice(1);t.setAttribute("id","tab_"+n),t.setAttribute("role","tab"),t.setAttribute("aria-controls",n),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");var e=this.getPanel(t);e.setAttribute("role","tabpanel"),e.setAttribute("aria-labelledby",t.id),e.classList.add(this.jsHiddenClass)},w.prototype.unsetAttributes=function(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");var n=this.getPanel(t);n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.classList.remove(this.jsHiddenClass)},w.prototype.onTabClick=function(t){if(!t.target.classList.contains("govuk-tabs__tab"))return!1;t.preventDefault();var n=t.target,e=this.getCurrentTab();this.hideTab(e),this.showTab(n),this.createHistoryEntry(n)},w.prototype.createHistoryEntry=function(t){var n=this.getPanel(t),e=n.id;n.id="",this.changingHash=!0,window.location.hash=this.getHref(t).slice(1),n.id=e},w.prototype.onTabKeydown=function(t){switch(t.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),t.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),t.preventDefault();break}},w.prototype.activateNextTab=function(){var t=this.getCurrentTab(),n=t.parentNode.nextElementSibling;if(n)var e=n.querySelector(".govuk-tabs__tab");e&&(this.hideTab(t),this.showTab(e),e.focus(),this.createHistoryEntry(e))},w.prototype.activatePreviousTab=function(){var t=this.getCurrentTab(),n=t.parentNode.previousElementSibling;if(n)var e=n.querySelector(".govuk-tabs__tab");e&&(this.hideTab(t),this.showTab(e),e.focus(),this.createHistoryEntry(e))},w.prototype.getPanel=function(t){var n=this.$module.querySelector(this.getHref(t));return n},w.prototype.showPanel=function(t){var n=this.getPanel(t);n.classList.remove(this.jsHiddenClass)},w.prototype.hidePanel=function(t){var n=this.getPanel(t);n.classList.add(this.jsHiddenClass)},w.prototype.unhighlightTab=function(t){t.setAttribute("aria-selected","false"),t.parentNode.classList.remove("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","-1")},w.prototype.highlightTab=function(t){t.setAttribute("aria-selected","true"),t.parentNode.classList.add("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","0")},w.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},w.prototype.getHref=function(t){var n=t.getAttribute("href"),e=n.slice(n.indexOf("#"),n.length);return e};function X(t){t=typeof t<"u"?t:{};var n=typeof t.scope<"u"?t.scope:document,e=n.querySelectorAll('[data-module="govuk-button"]');p(e,function(d){new O(d).init()});var i=n.querySelectorAll('[data-module="govuk-accordion"]');p(i,function(d){new C(d).init()});var a=n.querySelectorAll('[data-module="govuk-details"]');p(a,function(d){new _(d).init()});var l=n.querySelectorAll('[data-module="govuk-character-count"]');p(l,function(d){new L(d).init()});var s=n.querySelectorAll('[data-module="govuk-checkboxes"]');p(s,function(d){new S(d).init()});var o=n.querySelector('[data-module="govuk-error-summary"]');new x(o).init();var u=n.querySelector('[data-module="govuk-header"]');new j(u).init();var r=n.querySelectorAll('[data-module="govuk-notification-banner"]');p(r,function(d){new I(d).init()});var c=n.querySelectorAll('[data-module="govuk-radios"]');p(c,function(d){new $(d).init()});var v=n.querySelector('[data-module="govuk-skip-link"]');new T(v).init();var m=n.querySelectorAll('[data-module="govuk-tabs"]');p(m,function(d){new w(d).init()})}A.initAll=X,A.Accordion=C,A.Button=O,A.Details=_,A.CharacterCount=L,A.Checkboxes=S,A.ErrorSummary=x,A.Header=j,A.NotificationBanner=I,A.Radios=$,A.SkipLink=T,A.Tabs=w})});Z();})();
